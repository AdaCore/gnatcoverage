Compliance to guidance
======================
This section contains compliance matrices with the guidance contained in section 12.2 of DO-178B. 

**Note:** in the following, we always use the term "verification tool" to indicate the software level of the tool following the DO-178B taxonomy. This term is equivalent to TQL5 for DO-178C.

.. csv-table:: **Section 12.2**
   :delim: |
   :header: "Section", "Data", "Notes"

   12.2a|verification tool|see `Software Level`_
   12.2b|Not required|GNATcoverage is qualified as a verification tools
   12.2c (Software Configuration Management Plan)|Compliance matrix to table A-8 in :qmref:`$(project)::Plans::Software Configuration Management Plan`
   12.2c (Software Quality Assurance Plan) | Compliance matrix to to table A-9 in :qmref:`$(project)::Plans::Software Quality Assurance Plan`

Section **12.2.1** does not apply to verification tools.

.. csv-table:: **Section 12.2.2**
   :delim: |
   :header: "Section", "Data", "Notes"

   12.2.2 (Tool Operational Requirements)| Tool Operational Requirement document and Tests Results document|
   12.2.2 (Normal operational conditions)| `GNATcoverage Qualified Interface`_ |

.. csv-table:: **Section 12.2.3**
   :delim: |
   :header: "Section", "Qualification Data", "Notes"

   12.2.3a|To be provided by the applicant|See :qmref:`$(project)::Plans::Tool Qualification Plan::User_Activities`
   12.2.3b|CC2|GNATcoverage is qualified as a verification tool
   12.2.3c|Not required|GNATcoverage is qualified as a verification tool
   12.2.3.1|:qmref:`$(project)::Plans::Tool Qualification Plan` (this document)|Not required for verification tools, but still provided in this document
   12.2.3.2a|Tool Operational Requirement document|
   12.2.3.2b|GNAT Pro UG and GNATcoverage RM|
   12.2.3.2c|See :qmref:`$(project)::Plans::Tool Qualification Plan::Environment_Equivalence`
   12.2.3.2d|Not required|GNATcoverage is qualified as a verification tool

The Tool Qualification Agreement (**section 12.2.4**) is to be provided by the applicant (see :qmref:`$(project)::Plans::Tool Qualification Plan::User_Activities`)
   
Tool Overview
=============
GNATcoverage is a tool designed to assess the source level coverage achieved by a testing campaign on software. It operates without any instrumentation of the original program, on code generated by the same compiler as the one producing the executable deployed on the target hardware.

Detailed information on the tool capabilities and characteristics is available in the GNATcoverage RM as well as in AE09 an ERTS10 papers.

Sought Certification Credit
===========================

GNATcoverage aims at automating the structural coverage assessment activities required by the Software Verification Process of DO-178.
These  are mandatory for levels A, B, and C, with more stringent
requirements for the more critical levels (table A7, objectives 5-7): MC/DC, decision coverage and statement coverage for level A, decision coverage and statement coverage for level B and statement coverage for level C.


Software Level
==============

GNATcoverage aims at automating activities 7.5-7 of DO-178B: as such, GNATcoverage is qualified as a verification tool. In terms of DO-178C, GNATcoverage has a tool qualification level equal to 5 (TQL5).

GNATcoverage qualified interface
================================

To obtain reports suitable for use as certification evidence, applicants shall use GNATcoverage as follows:

* To build the executable application with the GNAT Pro toolchain identified in the Tool Operational Requirements obeying to the compilation options and coding standard rules documented there.

* To obtain an execution trace file <TRACE> by running the <APP> executable application within the instrumented execution environment:

.. code-block:: text 
 
 xcov run --target=<TARGET> --level=<LVL> <APP> -o <TRACE>

* To produce the <REPORT> file (format documented in  the GNATcoverage RM), feed the execution traces of interest to the coverage analyzer with:

.. code-block:: text

 xcov coverage --annotate=report --level=<LVL> --scos=@alis.list @traces.list -o <REPORT>

where:

* <APP> is the cross-compiled embedded application
* <LVL> designates the coverage criteria to assess: "stmt" for level C, "stmt+decision" for level B, or "stmt+mcdc" for level A;
* <REPORT> is the file conaining the GNATcoverage report;
* <TARGET> identifies the target platform (as in the GNAT Pro toolchain prefixes, e.g.  powerpc-elf);
* <TRACE> is the output file containng the execution trace;
* alis.list is a file containing the list of GNAT Pro ALI file names associated with the source units for which coverage is to be assessed;
* traces.list is a file containing the list of execution traces to operate on.

When the traces.list input lists multiple traces, GNATcoverage consolidates the coverage achieved by all the corresponding executions as if they all happened in sequence as a single one.
