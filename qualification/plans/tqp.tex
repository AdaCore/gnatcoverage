\documentclass {report}
\usepackage{couverture}
\usepackage{color}
\definecolor{light-gray}{gray}{0.85}
\usepackage{listings}
\lstset{backgroundcolor=\color{light-gray}}

\begin{document}
\title{\huge xCov\\Tool Qualification Plan\\ \ \\ \large \textbf{Document Version 1.0}}

\maketitle
\tableofcontents

\chapter{Document introduction}

\section{Document purpose}
The purpose of this document is to describe the applicable processes to qualify \xcov in a DO-178B and DO-178C context.

\section{Authors}
\begin{tabular}{|c|c|c|}
\hline
\textbf{Name} & \textbf{Company} & \textbf{Email} \\ \hline
Matteo Bordin & AdaCore & bordin@adacore.com \\ \hline
Olivier Hainque & AdaCore & hainque@adacore.com \\ \hline
\end{tabular}

\section{Major revision history}
The evolution of this document is automatically tracked by the configuration management system. Here we just provide the major revision history.
\ \\ \\
\begin{tabular}{|c|c|c|}
\hline
\textbf{Version} & \textbf{Date} & \textbf{Comment} \\ \hline
 &  &  \\ \hline
\end{tabular}

\include{doc_introduction}

\chapter{Tool and document overview}

\section{Tool overview}
\xcov is a tool conceived to measure test coverage of software structures at both source and object code level. Differently from most common coverage tools, \xcov operates without instrumenting the source code. It instead relies on:
\begin{itemize}
\item the list of object instructions evaluated within the execution of a (set of) test(s): such a list is collected by \xcov itself; 
\item the ability of the compiler to produce a map between source code structures (statements, decisions, conditions) and the corresponding object code instructions.
\end{itemize}
By analysing the data above, \xcov is thus able to calculate which source and object code structures have been executed.

Additional information on the high \xcov can be found in the \xcov UG and in \adaeurope and \erts.

\section {Sought certification credit}
DO-178 requires to measure test coverage of software structure as part of the Software Verification Process. Measure of test coverage is mandatory for level A, B, C. Level A requires to achieve at least \mcdc, \dc and \stc (table A7 objective 5-7); level B requires to achieve at least \dc and \stc (table A7 objective 6-7) and level C requires to achieve at least \stc (table A7 objective 7). In the case of level A software, and if the compilers generates un-traceable object code, additional verification may be required on object code. CAST Paper 17 suggests at least two possible activities to achieve this additional objective: to measure test coverage of object code and to develop a traceability study on a representative set of source code.

\xcov aims at automating the measurement of activities above. In the case of level A software, \xcov also aims at automating the measurement of test coverage of object code if this strategy has been chosen to cope with un-traceable object code.

\xcov is qualified as a \emph{verification tool} or, in DO-178C terms, with a Tool Qualification Level 3 (TQL3). As such, and as long as \xcov is used following its qualified interface (see section \ref{sec:qual-interface}), applicants may use \xcov output as certification evidence and certification authorities shall consider \xcov output \emph{as good as} the output of a manual activity.

\section{Qualified interface}
\label{sec:qual-interface}

\chapter{Qualification data}

\section{Overview of qualification data}
\label{sec:qd-overview}
\begin{tabular}{|c|c|c|}
\hline
\textbf{Data} & \textbf{Provided by} & \textbf{File} \\ \hline
Tool Qualification Plan & Qualification Team & tqp.pdf \\ \hline
Software Configuration Management Plan & Qualification Team & scmp.pdf \\ \hline
Software Quality Assurance Plan & Quality Assurance Team & sqap.pdf \\ \hline
Tool Operational Requirements & Development Team & tor\_tc\_ts.pdf \\ \hline
Test cases & Development Team & tor\_tc\_ts.pdf \\ \hline
Tests & Development Team & tor\_tc\_ts.pdf \\ \hline
Tests Results & Development Team & ts\_results.pdf \\ \hline
Delivery file & Qualification Team & delivery.txt, see section \ref{sec:delivery} \\ \hline
Verification results analysis & User & user-specific \\ \hline
Specific constraints and open problems & Qualification Team & constraints.txt, see section \ref{sec:constr-problems} \\ \hline
\xcov User Guide & Development Team & xcov\_ug.pdf \\ \hline
\end{tabular}

\section{Tool development and verification standards}
\subsection{Tool Operational Requirements}
A physical folder on the repository is associated to each TOR. The name of the folder is the id of the TOR. All qualification artifacts derived from a TOR are stored as either files or folders contained in the folder of the parent TOR. The TOR textual specification is contained in a file always named \texttt{req.txt}.

\subsection{Test cases}
Explicit description of test cases (when necessary) is contained in the \texttt{req.txt} of the parent TOR under the section "Testing strategy". Source code for test cases is contained in the \texttt{src} sub-folder and source files do \emph{not} start with the \texttt{test\_} prefix. 

\subsection{Tests source code}
Source code for tests is contained in the \texttt{src} sub-folder; source files start with the \texttt{test\_} prefix. 

\section{Production of qualification data}

\subsection{Environment equivalence}
\label{sec:equivalence}
For the whole set of qualification material to be consistent, the qualification and user environments must be equivalent. Given our internal knowledge of \xcov, we deem the following data sufficient to establish equivalence of environments:
\begin{enumerate}
\item the name of the GNAT Pro executable;
\item the GNAT Pro version number;
\item the \xcov version number;
\item the host operating system and its version;
\end{enumerate}
The value for all the items above for the qualification environment are contained in the delivery file (section \ref{sec:delivery}). Test execution results are produced in an environment which is equivalent to the one described in the delivery file. 

\subsection{Tool Operational Requirements}
\subsection{Testing strategy}
\subsection{Test cases}
\subsection{Tests}

\subsection{Specific constraints and open problems}
\label{sec:constr-problems}
All known constraints and open problems are collected in the appropriate file as per section \ref{sec:qd-overview}.

\subsection{Delivery file}
\label{sec:delivery}
The delivery file (as per section \ref{sec:qd-overview}) contains the description of the qualification environments following the data required by section \ref{sec:equivalence}.

\chapter{User activities}
\label{sec:user-act}
The user needs to perform a set of activities, either in the scope of \xcov qualification or \xcov usage.

\section{\xcov qualification}
To finalise the qualification of \xcov, the user needs to:
\begin{enumerate}
\item \textbf{Reference \xcov in the PSAC}, identifying \xcov as a verification tool requiring qualification because it contributes to take certification credit by automating some (otherwise manual) activities.
\item \textbf{Assess the equivalence between the qualification environment and the operational environment} (see section \ref{sec:equivalence}).
\item \textbf{Put qualification data under configuration management}.
\end{enumerate}

\section{\xcov usage}
The user needs to perform the following activities to assure \xcov exhibits a qualified behaviour:
\begin{enumerate}
\item \textbf{Install \xcov in the Operational Environment}.
\item \textbf{Check \xcov is used following its qualified interface} (see section \ref{sec:qual-interface}) when the tool output is intended to be used to take certification credit.
\item \textbf{Check \xcov is used in a way compliant to it known constraints and open problems (see section \ref{sec:constr-problems}) when the tool output is intended to be used to take certification credit.
\item \textbf{Update the Environment Configuration Index} by including the delivery file and test results (see section \ref{sec:qd-overview} for the corresponding files).
\item{Update the Software Accomplishment Summary} for:
\begin{itemize}
\item Objectives 5, 6 and 7 of table A7 for level A software.
\item Objectives 6 and 7 of table A7 for level B software.
\item Objective 7 of table A7 for level C software.
\end{itemize}
\item{Update the Software Accomplishment Summary} for the qualification status of \xcov.
\end{enumerate}


\end{document}
