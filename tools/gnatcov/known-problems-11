==========================================
Known problems in GNATcoverage version 1.1
==========================================

Copyright (C) 2013-2014, AdaCore

The following is a listing of known problems in releases 1.1.1 and 1.1.2.
Each entry contains a status line stating when the problem was fixed, and on
which release(s). In addition, any wavefront issued subsequent to the date
specified (in ISO format YYYY-MM-DD) also contains the fix. This can be used
to determine if a given release or wavefront has the fix identified in the
entry.

Note that older releases might or might not be affected by the problems listed
in this document.

Known problems fixed in 1.2.1 and above
---------------------------------------

KP-11-MA08-031 Warnings on short-circuit/non-short-circuit decision nest

  Problem:    gnatcov coverage emits spurious "condition lacks edge" warnings
              on "if (A and then B) or (C or D)" with --level=stmt+decision.
              The trigger is the mix of short-circuit and non-short-circuit
              operators exposing a decision nested within another and starting
              at the same sloc (here, A and then B nested within the outer
              expression).

  Status:     This was fixed in 1.2 on 2013-10-08

  Workaround: Rewrite the expression so the short-circuit subexpression
              isn't first.

KP-11-M724-035 Spurious branch related warnings on controlled condition

  Problem:    On x86-linux, for complex Ada constructs involving transient
              controlled objects in conditions mixed with exception handlers,
              gnatcov sometimes emits warnings about conditional branches
              not reconviened against conditions.

  Status:     This was fixed in 1.2 on 2013-08-07

  Workaround: Simplify the code to extract the transient controlled object
              creations out of the problematic decisions.

KP-11-M711-039 Spurious complaint about missing branch for constant condition

  Problem:    During decision or mcdc analysis, gnatcov complains about
              missing conditional branches for conditions that happen to have
              known at compile time values, such as a direct reference to a
              constant identifier for example.

  Status:     This was fixed in 1.2 on 2013-08-22

  Workaround: Modify the source code so the problematic conditions aren't
              known at compile time any more.

KP-11-M704-044 gnatcov abort on .ali file for subunit

  Problem:    gnatcov coverage aborts on with a "key already in map"
              Constraint_Error when queried to process SCOs coming from a
              subunit ALI file in addition to those for the corresponding
              main unit.

  Status:     This was fixed in 1.2 on 2013-07-10

  Workaround: Arrange to exclude the subunit ALI file from the set passed
              to gnatcov. ALIs for subunits are identifiable by the presence
              of a "NO" keyword on the P line within the file.

KP-11-M627-058 Memory leak while producing html+ report

  Problem:    gnatcov coverage leaks small amounts of memory while producing
              the annotated source lines of html+ reports. This may lead to
              system memory exhaustion for large reports, typcially with tens
              of thousands of annotated lines to produce.

  Status:     This was fixed in 1.2 on 2013-06-28

  Workaround: Generate an alternate output format or focus the analysis
              on a smaller set of program units.

KP-11-M425-007 Extreme coverage computation time with large debug info

  Problem:    gnatcov coverage appears to be running an infinite active loop
              while processing a trace associated with an executable featuring
              a very large debug info section (hundreds of megabytes). The
              process nevertheless converges after several hours.

  Status:     This was fixed in 1.2 on 2013-04-26

  Workaround: Wait long enough or run gnatcov coverage on a faster machine

Known problems fixed in 1.1.2 and above
---------------------------------------

KP-11-M105-005 Spurious gnatcov complaint on coverage -P<space><gpr>

  Problem:    gnatcov coverage -P emits a spurious complaint about a
              badly formed trace file when spaces are inserted between
              -P and the project file name on the command line.

  Status:     This was fixed in 1.2 on 2013-01-05
                         and in 1.1.2 on 2013-05-28

  Workaround: Remove the spaces between -P and the project file name.

KP-11-M105-004 Gnatcov uses wrong gnatls binary to set project search path

  Problem:    gnatcov relies on calling the gnatls utility to establish
              the search path for project files. However it always called
              "gnatls" instead of the proper command for the target, which
              is "<target>-gnatls" for cross targets, and "gnatls" for native
              ones only.

  Status:     This was fixed in 1.2 on 2013-05-16
                         and in 1.1.2 on 2013-05-28

  Workaround: Add a symbolic link "gnatls" pointing to "<target>-gnatls" in
              an appropriate directory on your PATH.
