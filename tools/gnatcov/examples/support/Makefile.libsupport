# Simple makefile for building the zfp support library.

include Makefile.common

LIBSUPPORT_ARCHIVE = $(LIBSUPPORT_DIR)/libsupport.a

all: $(LIBSUPPORT_DIR) $(LIBSUPPORT_ARCHIVE)
     
$(LIBSUPPORT_DIR):
	mkdir -p $@

$(LIBSUPPORT_ARCHIVE): force
	$(BUILDER) -XBUILD=yes -p -Plibsupport -f
	$(BUILDER) -XBUILD=yes -p -Plibsupport -XUNITTEST=yes

clean:
	$(RM) -rf lib obj

.PHONY: force clean
